

<h1 mat-dialog-title style="display: none">
  {{ data.isEditMode ? "Edit Contact" : "Add Contact" }}
</h1>
<div mat-dialog-content>
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" />
      <mat-error *ngIf="contactForm.get('name')?.invalid"
        >Please enter a name.</mat-error
      >
    </mat-form-field>
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Phone</mat-label>
      <input matInput formControlName="phone" />
      <mat-error *ngIf="contactForm.get('phone')?.hasError('required')">
        Please enter a contact number.
      </mat-error>
      <mat-error *ngIf="contactForm.get('phone')?.hasError('pattern')">
        Phone number must be numeric and 11 digits.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Email</mat-label>
      <input
        matInput
        formControlName="email"
        oninput="this.value = this.value.toLowerCase()"
      />
      <mat-error *ngIf="contactForm.get('email')?.invalid"
        >Please enter a valid Email address.</mat-error
      >
    </mat-form-field>
  </form>
</div>
<div mat-dialog-actions class="actions">
  <button
    mat-stroked-button
    color="primary"
    class="left-button"
    (click)="onCancel()"
  >
    Cancel
  </button>

  <button
    mat-raised-button
    color="primary"
    [disabled]="!contactForm.valid || (data.isEditMode && !contactForm.dirty)"
    (click)="onSubmit()"
    class="right-button"
  >
    {{ data.isEditMode ? "Save Changes" : "Add Contact" }}
  </button>
</div>



<!-- <div class="modal-backdrop" (click)="closeModal.emit()">
  <div class="modal">
    <div class="dialog-content">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="form-field full-width">
          <label for="name">Name</label>
          <input
            id="name"
            formControlName="name"
            [ngClass]="{
              'error-input':
                contactForm.get('name')?.invalid &&
                (contactForm.get('name')?.dirty ||
                  contactForm.get('name')?.touched)
            }"
          />
          <div
            *ngIf="
              contactForm.get('name')?.invalid &&
              (contactForm.get('name')?.dirty ||
                contactForm.get('name')?.touched)
            "
            class="error-message"
          >
            <span *ngIf="contactForm.get('name')?.errors?.['required']"
              >Please enter a name</span
            >
            <span *ngIf="contactForm.get('name')?.errors?.['pattern']"
              >Name can only contain alphanumeric characters</span
            >
          </div>
        </div>

        <div class="form-field full-width">
          <label for="phone">Contact Number</label>
          <input
            id="phone"
            formControlName="phone"
            [ngClass]="{
              'error-input':
                contactForm.get('phone')?.invalid &&
                (contactForm.get('phone')?.dirty ||
                  contactForm.get('phone')?.touched)
            }"
          />
          <div
            *ngIf="
              contactForm.get('phone')?.invalid &&
              (contactForm.get('phone')?.dirty ||
                contactForm.get('phone')?.touched)
            "
            class="error-message"
          >
            <span *ngIf="contactForm.get('phone')?.errors?.['required']"
              >Please enter a contact number</span
            >
            <span *ngIf="contactForm.get('phone')?.errors?.['pattern']"
              >Contact number must be 11 digits</span
            >
          </div>
        </div>

        <div class="form-field full-width">
          <label for="email">Email Address</label>
          <input
            id="email"
            formControlName="email"
            [ngClass]="{
              'error-input':
                contactForm.get('email')?.invalid &&
                (contactForm.get('email')?.dirty ||
                  contactForm.get('email')?.touched)
            }"
            oninput="this.value = this.value.toLowerCase()"
          />
          <div
            *ngIf="
              contactForm.get('email')?.invalid &&
              (contactForm.get('email')?.dirty ||
                contactForm.get('email')?.touched)
            "
            class="error-message"
          >
            <span *ngIf="contactForm.get('email')?.errors?.['required']"
              >Please enter an Email address</span
            >
            <span *ngIf="contactForm.get('email')?.errors?.['email']"
              >Please enter a valid Email address</span
            >
          </div>
        </div>

        <div class="buttons">
          <button type="button" (click)="onCancel()" class="cancel-button">
            Cancel
          </button>
          <button
            type="submit"
            [disabled]="contactForm.invalid || contactForm.pristine"
            class="add-button"
          >
            {{ buttonLabel }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div> -->